<div class="page-body">
  <div class="col-xl-12 col-md-12">
    <div class="card">
      <div class="card-header">
        <h5>Stoku</h5>
        <button class="btn btn-primary btn-outline-primary btn-sm add-button float-right" (click)="shtoProdukte.show()">
          <i class="fa fa-plus"></i>Shto Produkte
        </button>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table">
            <tr>
              <th>Foto</th>
              <th>Kodi i Produktit</th>
              <th>Emri</th>
              <th>Sasia</th>
              <th>Cmimi</th>
              <th>Aksion</th>
            </tr>
            <tr *ngFor="let product of products">
              <td *ngIf="product.foto != null && product.foto != ''"><img class="img-fluid img-40" [src]="product.foto" alt="card-img"></td>
              <td *ngIf="product.foto == null || product.foto == ''"><img class="img-fluid img-40" src="../../../assets/images/no-image.jpg" alt="card-img"></td>
              <td>{{product.kodi}}</td>
              <td>{{product.emri}}</td>
              <td>{{product.sasia}}</td>
              <td>{{product.cmimi}}â‚¬</td>
              <td>
                <button class="btn btn-primary btn-sm btn-outline-primary mr-2" (click)="getOne(product.id); editoProdukte.show()">Edito</button>
                <button class="btn btn-outline-danger btn-sm btn-outline-danger" (click)="openSuccessCancelSwal(product.id)">Fshij</button>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>


  <app-modal-basic #shtoProdukte [dialogClass]="'modal-lg'">
    <div class="app-modal-header">
      <h4 class="modal-title">Shto Produktin</h4>
      <button type="button" class="close basic-close" (click)="shtoProdukte.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="app-modal-body modal-body pt-0">
      <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center">
          <img *ngIf="image == null" id="img" class="img-150"
               src="../../../assets/images/no-image.jpg">
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 m-t-10 text-center">
          <input id='browse-id' type='file' (change)="onImageChange($event)"
                 accept="image/*"
                 hidden/>
          <input id="browse-btn-id" type='button' value='{{browseText}}'
                 class="btn btn-sm btn-primary btn-outline-primary m-b-5 custom-file-upload fa-upload"
                 (click)="openDialog()"/>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-lg-6 mt-2">
          <label>Emri Produktit</label>
          <input type="text" [class]="emriClass" [(ngModel)]="createEmri">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Kodi i Produktit</label>
          <input type="text" [class]="kodiProduktitClass" [(ngModel)]="createKodiProduktit">
        </div>
        <div class="col-lg-12 mt-2">
          <label>Pershkrimi</label>
          <textarea [class]="pershkrimiClass" rows="4" [(ngModel)]="createPershkrimi"></textarea>
        </div>
        <div class="col-lg-6 mt-2">
          <label>Sasia</label>
          <input type="number" [class]="sasiaClass" [(ngModel)]="createSasia">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Cmimi</label>
          <input type="text" [class]="cmimiClass" [(ngModel)]="createCmimi">
        </div>
      </div>
    </div>
    <div class="app-modal-footer">
      <button type="button" class="btn btn-default waves-effect" (click)="shtoProdukte.hide()">Mbyll</button>
      <button type="button" class="btn btn-primary waves-effect waves-light m-l-15"(click)="save(shtoProdukte)">Ruaj</button>
    </div>
  </app-modal-basic>


  <app-modal-basic #editoProdukte [dialogClass]="'modal-lg'">
    <div class="app-modal-header">
      <h4 class="modal-title">Edito Produktin</h4>
      <button type="button" class="close basic-close" (click)="editoProdukte.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="app-modal-body modal-body pt-0">
      <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center">
          <img *ngIf="editFoto == null || editFoto == ''" id="img-edit" class="img-150"
               src="../../../assets/images/no-image.jpg">
          <img *ngIf="editFoto != null && editFoto != ''" id="img-edit" class="img-150"
               [src]="editFoto">
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 m-t-10 text-center">
          <input id='browse-id-edit' type='file' (change)="onImageChangeEdit($event)"
                 accept="image/*"
                 hidden/>
          <input id="browse-btn-id-edit" type='button' value='{{browseTextEdit}}'
                 class="btn btn-sm btn-primary btn-outline-primary m-b-5 custom-file-upload fa-upload"
                 (click)="openDialogEdit()"/>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-lg-6 mt-2">
          <label>Emri Produktit</label>
          <input type="text" [class]="editEmriClass" [(ngModel)]="editEmri">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Kodi i Produktit</label>
          <input type="text" [class]="editKodiProduktitClass" [(ngModel)]="editKodiProduktit">
        </div>
        <div class="col-lg-12 mt-2">
          <label>Pershkrimi</label>
          <textarea [class]="editPershkrimiClass" rows="4" [(ngModel)]="editPershkrimi"></textarea>
        </div>
        <div class="col-lg-6 mt-2">
          <label>Sasia</label>
          <input type="number" [class]="editSasiaClass"[(ngModel)]="editSasia">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Cmimi</label>
          <input type="text" [class]="editCmimiClass" [(ngModel)]="editCmimi">
        </div>
      </div>
    </div>
    <div class="app-modal-footer">
      <button type="button" class="btn btn-default waves-effect" (click)="editoProdukte.hide()">Mbyll</button>
      <button type="button" class="btn btn-primary waves-effect waves-light m-l-15" (click)="update(editoProdukte)">Ruaj Nryshimet</button>
    </div>
  </app-modal-basic>
</div>
<ng2-toasty [position]="position"></ng2-toasty>
