<div class="page-body">
  <div class="col-xl-12 col-md-12">
    <app-card [title]="'Shporta'">
      <div class="row" *ngIf="shsportaProducts != undefined && shsportaProducts.length <= 0">
        <div class="col-lg-12 text-center">
          <h4 style="color: #00AEEF">Nuk ka produkte ne shporte!</h4>
        </div>
      </div>
      <div class="row" *ngIf="shsportaProducts != undefined && shsportaProducts.length > 0">
        <div class="col-lg-12">
          <div class="table-responsive" >
            <table class="table">
              <tr>
                <th width="15%">Foto</th>
                <th width="20%">Produkti</th>
                <th width="20%">Sasia</th>
                <th width="15%">Cmimi</th>
                <th width="20%">Cmimi Total</th>
                <th width="10%">Aksion</th>
              </tr>
              <tr *ngFor="let shportaProduct of shsportaProducts">
                <td *ngIf="shportaProduct.product.foto != null && shportaProduct.product.foto != ''"><img class="img-fluid img-40" [src]="shportaProduct.product.foto" alt="card-img"></td>
                <td *ngIf="shportaProduct.product.foto == null || shportaProduct.product.foto == ''"><img class="img-fluid img-40" src="../../../assets/images/no-image.jpg" alt="card-img"></td>
                <td>{{shportaProduct.product.emri}}</td>
                <td>
                  <input type="number" min="1" max="{{shportaProduct.product.sasia}}" class="form-control form-control-primary float-left" style="width: 40%" [(ngModel)]="shportaProduct.sasia">
                  <button class="btn btn-primary btn-sm btn-outline-primary ml-2" (click)="shtoSasi(shportaProduct.id, shportaProduct.sasia)">Ndrysho</button></td>
                <td>{{shportaProduct.product.cmimi}}€</td>
                <td>{{shportaProduct.cmimiTotal}}€</td>
                <td>
                  <button class="btn btn-danger btn-sm btn-outline-danger mr-2" (click)="delete(shportaProduct.id)">Fshij</button>
                </td>
              </tr>
            </table>
          </div>
          <div class="row">
            <div class="col-lg-6">
              <h5>TOTAL: {{cmimiTotalIShportes | number : '1.2-2'}}€</h5>
            </div>
            <div class="col-lg-6">
              <button class="btn btn-primary btn-sm add-button float-right" (click)="bejePorosine.show()">Bëje porosinë</button>
            </div>
          </div>
        </div>
      </div>

    </app-card>
  </div>

  <app-modal-basic #bejePorosine [dialogClass]="'modal-lg'">
    <div class="app-modal-header">
      <h4 class="modal-title">Bëje Porosinë</h4>
      <button type="button" class="close basic-close" (click)="bejePorosine.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="app-modal-body modal-body pt-0">
      <div class="row mt-3">
        <div class="col-lg-12">
          <h3>Te dhenat tuaja</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-6 mt-2">
          <label>Emri</label>
          <input type="text" [class]="emriClass" [(ngModel)]="emri">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Mbiemri</label>
          <input type="text" [class]="mbiemriClass" [(ngModel)]="mbiemri">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Email</label>
          <input type="email" [class]="emailClass" [(ngModel)]="email">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Numri Telefonit</label>
          <input type="number" [class]="numriTelefonitClass" [(ngModel)]="numriTelefonit">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Rruga</label>
          <input type="text" [class]="rrugaClass" [(ngModel)]="rruga">
        </div>
        <div class="col-lg-6 mt-2">
          <label>ZIP Kodi</label>
          <input type="text" [class]="zipKodiClass" [(ngModel)]="zipKodi">
        </div>
        <div class="col-lg-6 mt-2">
          <label>Qyteti</label>
          <input type="text" [class]="qytetiClass" [(ngModel)]="qyteti">
        </div>
      </div>
    </div>
    <div class="app-modal-footer">
      <button type="button" class="btn btn-default waves-effect" (click)="bejePorosine.hide()">Mbyll</button>
      <button type="button" class="btn btn-primary waves-effect waves-light m-l-15" (click)="porosit(bejePorosine)">Porosit</button>
    </div>
  </app-modal-basic>
</div>
<ng2-toasty [position]="position"></ng2-toasty>
